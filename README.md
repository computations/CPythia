# Difficulty Prediction
This is the difficulty prediction module for [Coraxlib](https://codeberg.org/Exelixis-Lab/coraxlib). 
Since this module relies on Coraxlib types and Coraxlib cmake scopes this module is only intended for use in combination with Coraxlib.

The module provides functionality for computing and collecting the features for a given multiple sequence alignment (MSA) that are required to predict the difficulty, as well as a function for predicting the difficulty. 
The prediction code in `./difficulty` is an autogenerated export of a trained scikit-learn Random Decision Forest (exported using the [Treelite model compiler](https://github.com/dmlc/treelite)). 

### Usage example
```c++
#include <iostream>
#include "corax/corax.h"

int main(int argc, char *argv[])
{
  const char* filename = "path/to/msa.phy";
  corax_msa_t* msa = corax_phylip_load(filename, CORAX_FALSE);

  corax_msa_features * features = corax_msa_compute_features(msa, 4, corax_map_nt);
  average_rf_distance_parsimony_trees = 0.0; // TODO: not yet implemented using Coraxlib
  proportion_unique_topos_parsimony_trees = 0.0; // TODO: not yet implemented using Coraxlib
  double predicted_difficulty = corax_msa_predict_difficulty(features, average_rf_distance_parsimony_trees, proportion_unique_topos_parsimony_trees);

  std::cout << "The predicted difficulty for the given MSA is: " << predicted_difficulty << "\n";
}
```
